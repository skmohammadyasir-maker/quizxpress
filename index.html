<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Black Force 007 ‚Äî Quiz</title>

  <!-- ‚úÖ Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8486825272017960"
     crossorigin="anonymous"></script>

  <!-- ‚úÖ Font -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-dark: #0a0a0f;
      --neon-blue: #00e5ff;
      --neon-gold: #ffcc00;
      --text-light: #f1f1f1;
    }
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Noto Sans Bengali',sans-serif;}
    body{background:radial-gradient(circle at top,#111827,#000);color:var(--text-light);min-height:100vh;display:flex;flex-direction:column;}
    header.top{background:#000;border-bottom:3px solid var(--neon-blue);padding:12px 20px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 0 10px var(--neon-blue);}
    .title{font-size:1.5rem;color:var(--neon-gold);font-weight:700;text-shadow:0 0 10px var(--neon-gold);}
    .stat{margin-left:14px;font-size:.9rem;}
    main.card{background:rgba(20,20,30,.9);max-width:850px;width:90%;margin:25px auto;padding:20px;border-radius:14px;box-shadow:0 0 15px rgba(0,255,255,.3);}
    .question-text{font-size:1.2rem;margin-bottom:16px;text-align:center;color:var(--neon-gold);text-shadow:0 0 5px var(--neon-gold);}
    .options-grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));}
    .options-grid button{background:linear-gradient(90deg,#002b36,#004d66);color:#fff;border:2px solid var(--neon-blue);border-radius:10px;padding:10px;font-size:1rem;cursor:pointer;transition:.3s;}
    .options-grid button:hover{background:var(--neon-blue);color:#000;box-shadow:0 0 12px var(--neon-blue);transform:scale(1.05);}
    .controls{display:flex;justify-content:space-between;align-items:center;margin-top:18px;flex-wrap:wrap;}
    .btn{background:var(--neon-blue);color:#000;border:none;border-radius:8px;padding:6px 14px;cursor:pointer;font-weight:600;transition:.3s;}
    .btn:hover{background:var(--neon-gold);transform:scale(1.1);}
    .btn.yellow{background:var(--neon-gold);}
    footer.foot{background:#000;color:var(--neon-blue);text-align:center;padding:16px;margin-top:auto;border-top:3px solid var(--neon-gold);box-shadow:0 -2px 10px var(--neon-blue);font-size:.9rem;}
    .modal-card{background:rgba(15,15,25,.95);border:2px solid var(--neon-blue);padding:25px;border-radius:12px;text-align:center;color:var(--neon-gold);}
    .modal.hidden{display:none;}
  </style>
</head>
<body>
  <div class="app">
    <header class="top">
      <h1 class="title">üéÆ Black Force 007</h1>
      <div class="top-right">
        <div class="stat">‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®: <span id="qTotal">0</span></div>
        <div class="stat">‚è± ‡¶∏‡¶Æ‡ßü: <span id="time">15</span>s</div>
      </div>
    </header>

    <main class="card quiz-container">
      <div id="stats" class="stats-row">
        <div class="stat">‚úÖ ‡¶∏‡¶†‡¶ø‡¶ï: <strong id="stat-correct">0</strong></div>
        <div class="stat">‚ùå ‡¶≠‡ßÅ‡¶≤: <strong id="stat-wrong">0</strong></div>
        <div class="stat">üî¢ ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü: <strong id="stat-score">0</strong></div>
        <div class="stat">üí∞ ‡¶ï‡¶Ø‡¶º‡ßá‡¶®: <strong id="stat-coins">0</strong></div>
      </div>

      <div class="question-box">
        <div id="question" class="question-text">‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
        <div id="options" class="options-grid"></div>
      </div>

      <div class="controls">
        <div class="left-controls">
          <div class="progress">‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® <span id="qIndex">0</span>/<span id="qTotal2">0</span></div>
          <div class="lifelines">
            <button id="fiftyBtn" class="btn small">50-50</button>
            <button id="hintBtn" class="btn small">üí° Hint</button>
            <button id="skipBtn" class="btn small yellow">‚è≠ Skip</button>
          </div>
        </div>
        <div class="right-controls">
          <button id="soundToggle" class="btn small">üîä</button>
        </div>
      </div>
    </main>

    <div id="result-screen" class="modal hidden">
      <div class="modal-card">
        <h2>üéØ ‡¶ó‡ßá‡¶Æ ‡¶∂‡ßá‡¶∑!</h2>
        <p>‡¶∏‡¶†‡¶ø‡¶ï: <strong id="final-correct">0</strong></p>
        <p>‡¶≠‡ßÅ‡¶≤: <strong id="final-wrong">0</strong></p>
        <p>‡¶Æ‡ßã‡¶ü ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü: <strong id="final-score">0</strong></p>
        <p>‡¶Ü‡¶∞‡ßç‡¶ú‡¶ø‡¶§ ‡¶ï‡¶Ø‡¶º‡ßá‡¶®: <strong id="final-coins">0</strong></p>
        <p>üèÜ ‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡¶∏‡ßç‡¶ï‡ßã‡¶∞ (Local): <strong id="bestScore">0</strong></p>
        <div style="margin-top:14px;">
          <button id="playAgain" class="btn yellow">üîÅ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ñ‡ßá‡¶≤‡ßÅ‡¶®</button>
        </div>
      </div>
    </div>

    <footer class="foot">
      <p>¬© 2025 <strong>Black Force 007</strong> | All Rights Reserved</p>
      <small>üéµ ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶´‡¶æ‡¶á‡¶≤ ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®: <code>sounds/correct.mp3</code>, <code>wrong.mp3</code>, <code>click.mp3</code></small>
    </footer>
  </div>

  <!-- ‚úÖ JavaScript -->
  <script>
    async function loadQuestions() {
      try {
        const res = await fetch("questions.json");
        const data = await res.json();

        if (!data || data.length === 0) {
          document.getElementById("question").innerText = "‚ùå ‡¶ï‡ßã‡¶®‡ßã ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø!";
          return;
        }

        let index = 0;
        const questionText = document.getElementById("question");
        const optionsBox = document.getElementById("options");
        const qIndex = document.getElementById("qIndex");
        const qTotal = document.getElementById("qTotal");
        const qTotal2 = document.getElementById("qTotal2");

        qTotal.textContent = data.length;
        qTotal2.textContent = data.length;

        function showQuestion(i) {
          const q = data[i];
          questionText.textContent = q.question;
          optionsBox.innerHTML = "";
          q.options.forEach(opt => {
            const btn = document.createElement("button");
            btn.textContent = opt;
            btn.onclick = () => {
              if (opt === q.answer) {
                btn.style.background = "#00e676";
              } else {
                btn.style.background = "#ff1744";
              }
              setTimeout(() => {
                index++;
                if (index < data.length) {
                  showQuestion(index);
                } else {
                  questionText.textContent = "üéØ ‡¶∏‡¶¨ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶∂‡ßá‡¶∑!";
                  optionsBox.innerHTML = "";
                }
                qIndex.textContent = index + 1;
              }, 800);
            };
            optionsBox.appendChild(btn);
          });
          qIndex.textContent = i + 1;
          shuffleOptions();
        }

        showQuestion(index);
      } catch (err) {
        document.getElementById("question").innerText = "‚ö†Ô∏è ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!";
        console.error(err);
      }
    }

    function shuffleOptions() {
      const container = document.getElementById('options');
      for (let i = container.children.length; i >= 0; i--) {
        container.appendChild(container.children[Math.random() * i | 0]);
      }
    }

    document.addEventListener("DOMContentLoaded", loadQuestions);
  </script>
</body>
</html>
